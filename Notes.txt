Creating Maven project:

--To create project
mvn archetype:generate \
  -DarchetypeArtifactId=google-cloud-dataflow-java-archetypes-starter \
  -DarchetypeGroupId=com.google.cloud.dataflow \
  -DgroupId=com.example.pipelinesrus.newidea \
  -DartifactId=newidea \
  -Dversion="[1.0.0,2.0.0]" \
  -DinteractiveMode=false

--To run Dataflow job from project
mvn compile -e exec:java \
 -Dexec.mainClass=com.mycloud.dataflow.CheckFileAccess \
 -Dexec.args="--project=mynewdevenv \
    --gcpTempLocation=gs://mynewdevenv-bucket/temp/ \
    --runner=DataflowRunner \
    --region=us-east1"

mvn compile -e exec:java \
 -Dexec.mainClass=com.mycloud.dataflow.CheckFileAccess

java -jar mydataflow-1.0.0.jar \
  --runner=DataflowRunner \
  --project=mynewdevenv \
  --region=us-central1 \
  --tempLocation=gs://mynewdevenv-bucket/temp/ \
  --sourceTableName=gcp2

--To create Classic template
mvn compile exec:java \
     -Dexec.mainClass=com.mycloud.dataflow.ApiToBq \
     -Dexec.args="--runner=DataflowRunner \
                  --project=mynewdevenv \
                  --stagingLocation=gs://mynewdevenv-bucket/staging \
                  --templateLocation=gs://mynewdevenv-bucket/templates/ApiToBqTemplate
                  --region=us-central1 \
                  --sourceTableName=gcp2"
    


Creating Flex Templates :

	  
  mvn clean package
  
  Create metadata file
  
  export TEMPLATE_PATH="gs://mynewdevenv-bucket/dataflow/templates/api_to_bq.json"

  export TEMPLATE_IMAGE="gcr.io/mynewdevenv/dataflow/api_to_bq:latest"


gcloud auth configure-docker
# Build Docker Image
docker image build -t $TEMPLATE_IMAGE .
# Push image to Google Cloud Registry
docker push $TEMPLATE_IMAGE

      gcloud dataflow flex-template build $TEMPLATE_PATH \
      --image-gcr-path "$TEMPLATE_IMAGE" \
      --sdk-language "JAVA" \
      --flex-template-base-image JAVA11 \
      --metadata-file "metadata.json" \
      --jar "target/mydataflow-1.0.0.jar" \
      --env FLEX_TEMPLATE_JAVA_MAIN_CLASS="com.mycloud.ApiToBq"


      gcloud dataflow flex-template build $TEMPLATE_PATH \
      --image-gcr-path "$TEMPLATE_IMAGE" \
      --sdk-language "JAVA" \
      --flex-template-base-image JAVA11 \
      --metadata-file "metadata.json" \
      --jar "target/mydataflow-1.0.0.jar" \
      --env FLEX_TEMPLATE_JAVA_MAIN_CLASS="com.mycloud.ApiToBq"
