Creating Maven project:

--To create project
mvn archetype:generate \
  -DarchetypeArtifactId=google-cloud-dataflow-java-archetypes-starter \
  -DarchetypeGroupId=com.google.cloud.dataflow \
  -DgroupId=com.example.pipelinesrus.newidea \
  -DartifactId=newidea \
  -Dversion="[1.0.0,2.0.0]" \
  -DinteractiveMode=false

--To run Dataflow job from project
mvn compile -e exec:java \
 -Dexec.mainClass=com.mycloud.dataflow.CheckFileAccess \
 -Dexec.args="--project=mycloud-proj \
    --gcpTempLocation=gs://mycloud-proj-bucket/temp/ \
    --runner=DataflowRunner \
    --region=us-east1"

  mvn compile -e exec:java \
 -Dexec.mainClass=com.mycloud.dataflow.CheckFileAccess
	
mvn -Pdataflow-runner compile \
    exec:java \
    -Dexec.mainClass= \
    -Dexec.args="--project=mycloud-proj \
    --gcpTempLocation=gs://mycloud-proj-bucket/temp/ \
    --output=gs://mycloud-proj-bucket/results/output \
    --runner=DataflowRunner \
    --region=us-central1" \
    -Pdataflow-runner
	
java -jar target/mydataflow-1.0.0.jar --runner DataflowRunner --project mycloud-proj --region us-central1 --tempLocation gs://mycloud-proj-bucket/temp/

java -cp target/mydataflow-1.0.0.jar com.mycloud.ApiToBq "--runner DataflowRunner --project mycloud-proj --region us-central1 --tempLocation gs://mycloud-proj-bucket/temp/"

java -jar target/mydataflow-1.0.0.jar \
--runner=DataflowRunner --project=mycloud-proj \
--region=us-central1 \
--tempLocation=gs://mycloud-proj-bucket/temp/ \
--jobName=job1

java -jar mydataflow-1.0.0.jar \
  --runner=DataflowRunner \
  --project=mycloud-proj \
  --region=us-central1 \
  --tempLocation=gs://mycloud-proj-bucket/temp/


Creating Templates :

	  
  mvn clean package
  
  Create metadata file
  
  export TEMPLATE_PATH="gs://mycloud-proj-bucket/dataflow/templates/api_to_bq.json"

  export TEMPLATE_IMAGE="gcr.io/mycloud-proj/dataflow/api_to_bq:latest"


gcloud auth configure-docker
# Build Docker Image
docker image build -t $TEMPLATE_IMAGE .
# Push image to Google Cloud Registry
docker push $TEMPLATE_IMAGE

      gcloud dataflow flex-template build $TEMPLATE_PATH \
      --image-gcr-path "$TEMPLATE_IMAGE" \
      --sdk-language "JAVA" \
      --flex-template-base-image JAVA11 \
      --metadata-file "metadata.json" \
      --jar "target/mydataflow-1.0.0.jar" \
      --env FLEX_TEMPLATE_JAVA_MAIN_CLASS="com.mycloud.ApiToBq"


      gcloud dataflow flex-template build $TEMPLATE_PATH \
      --image-gcr-path "$TEMPLATE_IMAGE" \
      --sdk-language "JAVA" \
      --flex-template-base-image JAVA11 \
      --metadata-file "metadata.json" \
      --jar "target/mydataflow-1.0.0.jar" \
      --env FLEX_TEMPLATE_JAVA_MAIN_CLASS="com.mycloud.ApiToBq"
